<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Admin - FreeRadical CMS</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0F172A;
        }

        .hard-shadow {
            box-shadow: 8px 8px 0px rgba(15, 23, 42, 0.3);
        }

        .code-font {
            font-family: 'JetBrains Mono', monospace;
        }
    </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4">
    <div style="width: 100%; max-width: 448px;">
        <!-- Login Card -->
        <div class="hard-shadow" style="background-color: #1E293B; border-radius: 24px; overflow: hidden;">
            <!-- Header -->
            <div
                style="padding: 40px 32px; text-align: center; background: linear-gradient(135deg, #334155 0%, #1E293B 100%); border-bottom: 3px solid #F97316;">
                <img src="/static/logo.svg" alt="FreeRadical"
                    style="width: 80px; height: 80px; margin: 0 auto 16px auto; display: block;">
                <h1
                    style="font-size: 36px; font-weight: 900; color: white; margin-bottom: 8px; letter-spacing: -0.04em;">
                    FreeRadical
                </h1>
                <p class="code-font"
                    style="color: #F97316; font-size: 12px; font-weight: 700; letter-spacing: 0.05em; margin-bottom: 4px;">
                    SIMPLE ADMIN
                </p>
                <p style="color: #9CA3AF; font-size: 13px;">Lightweight API Access</p>
            </div>

            <!-- Form -->
            <div style="padding: 40px 32px;">
                <form id="loginForm" style="display: flex; flex-direction: column; gap: 24px;">
                    <div id="errorMessage"
                        style="display: none; padding: 16px; border-radius: 12px; background-color: #991B1B; border-left: 4px solid #DC2626; box-shadow: 4px 4px 0px rgba(15, 23, 42, 0.2);">
                        <p style="font-size: 14px; color: white; font-weight: 500; margin: 0;"></p>
                    </div>

                    <div>
                        <label
                            style="display: block; font-size: 12px; font-weight: 700; color: #F97316; margin-bottom: 8px; letter-spacing: 0.05em;"
                            class="code-font">
                            EMAIL ADDRESS
                        </label>
                        <input type="email" id="email" required
                            style="width: 100%; padding: 14px 16px; background-color: #0F172A; border: 2px solid #334155; border-radius: 12px; color: white; font-family: 'JetBrains Mono', monospace; font-size: 14px; outline: none;"
                            placeholder="admin@freeradical.dev" onfocus="this.style.borderColor='#F97316'"
                            onblur="this.style.borderColor='#334155'" />
                    </div>

                    <div>
                        <label
                            style="display: block; font-size: 12px; font-weight: 700; color: #F97316; margin-bottom: 8px; letter-spacing: 0.05em;"
                            class="code-font">
                            PASSWORD
                        </label>
                        <input type="password" id="password" required
                            style="width: 100%; padding: 14px 16px; background-color: #0F172A; border: 2px solid #334155; border-radius: 12px; color: white; font-family: 'JetBrains Mono', monospace; font-size: 14px; outline: none;"
                            placeholder="••••••••" onfocus="this.style.borderColor='#F97316'"
                            onblur="this.style.borderColor='#334155'" />
                    </div>

                    <button type="submit" id="submitBtn" class="code-font"
                        style="width: 100%; margin-top: 32px; padding: 16px 24px; background-color: #F97316; color: white; border: none; border-radius: 12px; font-size: 14px; font-weight: 900; letter-spacing: 0.1em; cursor: pointer; box-shadow: 8px 8px 0px rgba(15, 23, 42, 0.3); transition: all 0.2s;"
                        onmouseover="this.style.boxShadow='4px 4px 0px rgba(15, 23, 42, 0.3)'"
                        onmouseout="this.style.boxShadow='8px 8px 0px rgba(15, 23, 42, 0.3)'">
                        ACCESS SYSTEM
                    </button>
                </form>

                <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid #334155; text-align: center;">
                    <a href="/"
                        style="color: #06B6D4; font-size: 13px; font-weight: 700; text-decoration: none; letter-spacing: 0.05em;"
                        class="code-font">
                        ← HOMEPAGE
                    </a>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div style="margin-top: 32px; text-align: center;">
            <p class="code-font" style="font-size: 12px; color: #334155; letter-spacing: 0.05em;">
                JWT + ARGON2 • RUST v1.92 • ACTIX-WEB v4
            </p>
        </div>
    </div>

    <script>
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const errorDiv = document.getElementById('errorMessage');
            const errorText = errorDiv.querySelector('p');
            const submitBtn = document.getElementById('submitBtn');

            // Hide error
            errorDiv.style.display = 'none';

            // Loading state
            submitBtn.textContent = 'AUTHENTICATING...';
            submitBtn.disabled = true;
            submitBtn.style.opacity = '0.5';

            try {
                const response = await fetch('http://localhost:8000/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, password }),
                });

                const data = await response.json();

                if (response.ok && data.token) {
                    localStorage.setItem('auth_token', data.token);
                    localStorage.setItem('user_email', email);

                    // Success - redirect  
                    submitBtn.textContent = 'ACCESS GRANTED';
                    submitBtn.style.backgroundColor = '#06B6D4';
                    setTimeout(() => {
                        window.location.href = '/admin';
                    }, 500);
                } else {
                    throw new Error(data.message || 'Authentication failed');
                }
            } catch (error) {
                errorText.textContent = error.message || 'Invalid credentials';
                errorDiv.style.display = 'block';
                submitBtn.textContent = 'ACCESS SYSTEM';
                submitBtn.disabled = false;
                submitBtn.style.opacity = '1';
            }
        });
    </script>
</body>

</html>